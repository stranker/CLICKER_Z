[gd_scene load_steps=2 format=2]

[sub_resource type="GDScript" id=1]

resource_name = "Weapons.gd"
script/source = "extends GridContainer

var weapon = preload(\"res://Object/Weapon.tscn\")
var w_panel = preload(\"res://GUI/WeaponPanel.tscn\")

func _ready():
	create_weapons()
	create_panels()
	Global.curr_weapon = Global.WEAPON_LIST[0]
	pass

func create_weapons():
	for i in range(10):
		var w = weapon.instance()
		if i == 0:
			w.create_weapon(\"Pistol\",0,1,\"res://Sprite/Pistol.png\",\"test\")
		if i == 1:
			w.create_weapon(\"MP5\",5,2,\"res://Sprite/MP5.png\",\"test\")
		if i == 2:
			w.create_weapon(\"M4A4\",20,3,\"res://Sprite/MP5.png\",\"test\")
		if i == 3:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 4:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 5:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 6:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 7:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 8:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		if i == 9:
			w.create_weapon(\"TEST\",200,3,\"res://Sprite/Pistol.png\",\"test\")
		Global.WEAPON_LIST.push_back(w)
		get_tree().root.call_deferred(\"add_child\",w)
	Global.curr_weapon = Global.WEAPON_LIST[0]
	pass

func create_panels():
	for i in Global.WEAPON_LIST:
		var wp = w_panel.instance()
		wp.create_panel(i.get_shop_texture(),i.get_weapon_name(),i.get_shop_info())
		add_child(wp)
	pass
"
_sections_unfolded = [ "Resource" ]

[node name="Weapons" type="GridContainer"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = -20.0
margin_bottom = -1024.0
rect_min_size = Vector2( 580, 0 )
rect_pivot_offset = Vector2( 0, 0 )
mouse_filter = 1
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
custom_constants/vseparation = 5
columns = 1
script = SubResource( 1 )
_sections_unfolded = [ "Rect", "custom_constants" ]


